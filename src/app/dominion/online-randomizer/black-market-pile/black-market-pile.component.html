<div class="bodyWithPadding">

  <div class="marginedElement" >

    <button *ngIf="BlackMarketOperationPhase === 1"
        md-raised-button color="primary"
        (click)="revealTop3Cards()">
      上から3枚めくる
    </button>

    <button *ngIf="BlackMarketOperationPhase === 2"
        md-raised-button color="primary"
        (click)="onClick('buy', -1)">
      購入しない
    </button>

    <span *ngIf="BlackMarketOperationPhase === 3" >
      残りを好きな順に戻してください。（クリックしたものが一番下に差し込まれます）
    </span>
    <button *ngIf="BlackMarketOperationPhase === 3"
        md-raised-button color="primary"
        [disabled]="!putOnTheBottomDone()"
        (click)="onClick('putOnTheBottom', -1)">
      OK
    </button>

  </div>


  <div class="CardArea BlackMarketPile" *ngIf="receiveDataDone">
    <ng-container *ngIf="BlackMarketOperationPhase === 1">
      <span *ngFor="let card of BlackMarketPileShuffled; let idx = index" >
        <app-dominion-card-image
          [height]="longSideLength"
          [isButton]="false"
          [faceUp]="card.faceUp"
          [description]="idx + 1"
          [card]="cardPropertyList[card.cardIndex]">
        </app-dominion-card-image>
      </span>
    </ng-container>
    <ng-container *ngIf="BlackMarketOperationPhase === 2">
      <span *ngFor="let card of BlackMarketPileShuffled; let idx = index" >
        <app-dominion-card-image
          [height]="longSideLength"
          [isButton]="card.faceUp"
          [faceUp]="card.faceUp"
          [description]="idx + 1"
          [card]="cardPropertyList[card.cardIndex]"
          (click)="onClick('buy', idx)">
        </app-dominion-card-image>
      </span>
    </ng-container>
    <ng-container *ngIf="BlackMarketOperationPhase === 3">
      <span *ngFor="let card of BlackMarketPileShuffled; let idx = index" >
        <app-dominion-card-image
          [height]="longSideLength"
          [isButton]="card.faceUp"
          [faceUp]="card.faceUp"
          [description]="idx + 1"
          [card]="cardPropertyList[card.cardIndex]"
          (click)="onClick('putOnTheBottom', idx)">
        </app-dominion-card-image>
      </span>
    </ng-container>
  </div>
</div>
